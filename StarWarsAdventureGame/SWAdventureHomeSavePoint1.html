<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Star Wars Adventure Game</title>
    <style>
        button {
            cursor: pointer;
        }

        img {
            width: 680px;
            height: 420px;
            background-color: aliceblue; 
        }

        section {
            margin: 20px auto 20px auto;
        }





    </style>

</head>
<body>
    <section>
        <!-- Display input and output-->
        <img src="" />
        <p id="output"></p>
        <input id="input" type="text" placeholder="What would you like to do next?" />

        <br />
        <!-- display buttons -->
        <button id="btnGo">Go</button>
        <button id="btnSave">Save Game</button>
        <button id="btnShowRelics">Show Inventory</button>
        <p id="inventory"></p>
    </section>


    <script>
        // Creat world map Array
        // Arrays
        var map = []; // Array of locations in the game (the map)
            map[0] = "MontainLake";
            map[1] = "Village Pub";
            map[2] = "Village Residence";
            map[3] = "Village Gate";
            map[4] = "Village Square";
            map[5] = "Village park";
            map[6] = "Landing Port";
            map[7] = "Power Reactor";
            map[8] = "Military Base";

        var actionsIKnow = ["north", "east", "south", "west"];  // what directions can the player go

        var backPack = [];  // Conainer for relics picked up along the way

        var relic = []; // array of relics found throughout the game
            relic[0] = "Katana";
            relic[1] = "Light Saber";
            relic[2] = "Phaser";
            relic[3] = "Scroll";
            relic[4] = "Mana";

        var images = [];
            images[0] = "outerRealm1.jpg";
            images[1] = "14-Pub.jpg";
            images[2] = "23-Residence.jpg";
            images[3] = "5-Gate-inside.jpg";
            images[4] = "11-VillageSquare.jpg";
            images[5] = "park.jpg";
            images[6] = "outerRealm.jpg";
            images[7] = "22-PowerReactor.jpg";
            images[8] = "16-MilitaryBase.jpg";

        // Other variables
        var mapLocation = 4; // Location where the player will start
        var playerInput = ""; // variable to hold players input
        var gameMessage = ""; // variable to hold the game output text (message)
        var action = ""; // variable to hold the current value of "actonsIKnow" array
        var relic = ""; // variable to hold the current value of "relic" array


        // input output variables
        var output = document.querySelector("#output"); // Output Element
        var input = document.querySelector("#input");   // Input Element
        var image = document.querySelector("img");

        // Create the action buttons
        var btnGo = document.querySelector("#btnGo");
        btnGo.addEventListener("click", clickGo, false);

        var btnSave = document.querySelector("#btnSave");
        btnSave.addEventListener("click", clickSave, false);

        var btnShowRelics = document.querySelector("#btnShowRelics");
        btnShowRelics.addEventListener("click", clickRelics, false)

        // Display players location
        render();

        function clickGo()  // Create something the click handler event can grab on to (click handler name here is "clickGo"")
        {
            playGame();  // execute this function when the button "btnGo" is clicked
        }

        function playGame()
        {
            // convert input to lower case so it matches the "actionsIKnow" array case
            playerInput = input.value;
            playerInput = playerInput.toLowerCase();

            // reset these variables from the previous turn

            gameMessage = "";
            action = "";


            for (var i = 0; i < actionsIKnow.length; i++)   // user has 4 choices for actions (north, south, east, or west)
            {
                if (playerInput.indexOf(actionsIKnow[i]) !== -1)   // checks to see if the index is greater than 0 (the first number in the array)
                {
                    action = actionsIKnow[i];  // assign the index of "actionsIKnow" to the variable "action" to return the results to the user
                    console.log("You chose to move " + action);
                    break; // breaks out of the loop as soon as the function returns true
                }
            }

            // choose the correct action to take (which direction do you move)
            switch (action)
            {
                case "north":
                    mapLocation -= 3;
                    break;
                case "east":
                    mapLocation += 1;
                    break;
                case "south":
                    mapLocation += 3;
                    break;
                case "west":
                    mapLocation -= 1;
                    break;    
                default: gameMessage = "You can't go that way."
            }

            // render the game
            render();
        }
        function render()
        {
            // display the new location informaiton to the player
            output.innerHTML = map[mapLocation];

            // display the game message
            output.innerHTML += "<br><em>" + gameMessage + "</em>";

            image.src = "../img/" + images[mapLocation];
        }
        

        function clickSave()
        {

        }

        function clickRelics()
        {

        }

        //
        output.innerHTML = map[mapLocation]; // Display the location of the player to the player


    </script>

</body>
</html>